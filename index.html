<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVBuilder | Créateur de CV Professionnel</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/templates/modern.css" id="template-css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-container">
                <!-- Logo -->
                <div class="logo-section">
                    <div class="logo-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="logo-text">
                        <h1>CV<span class="logo-highlight">Builder</span></h1>
                        <p class="logo-subtitle">Créez votre CV professionnel</p>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="main-nav">
                    <ul class="nav-list">
                        <li class="nav-item active" data-section="editor">
                            <i class="fas fa-edit"></i>
                            <span>Éditer</span>
                            <div class="nav-indicator"></div>
                        </li>
                        <li class="nav-item" data-section="templates">
                            <i class="fas fa-palette"></i>
                            <span>Modèles</span>
                            <div class="nav-indicator"></div>
                        </li>
                        <li class="nav-item" data-section="preview">
                            <i class="fas fa-eye"></i>
                            <span>Aperçu</span>
                            <div class="nav-indicator"></div>
                        </li>
                        <li class="nav-item" data-section="export">
                            <i class="fas fa-file-export"></i>
                            <span>Exporter</span>
                            <div class="nav-indicator"></div>
                        </li>
                    </ul>
                </nav>

                <!-- Actions Header -->
                <div class="header-actions">
                    <!-- Theme Toggle -->
                    <button class="btn-icon btn-theme" id="theme-toggle" title="Changer le thème">
                        <i class="fas fa-moon"></i>
                    </button>

                    <!-- Actions rapides -->
                    <div class="action-buttons">
                        <button class="btn btn-outline btn-sm" onclick="app.loadExampleData()">
                            <i class="fas fa-magic"></i>
                            Exemple
                        </button>
                        <button class="btn btn-primary btn-sm btn-glow" id="download-pdf-btn">
                            <i class="fas fa-file-pdf"></i>
                            PDF
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Éditeur Section -->
            <section id="editor-section" class="content-section active">
                <div class="section-container">
                    <div class="section-header">
                        <h2><i class="fas fa-user-edit"></i>Créez Votre CV</h2>
                        <p class="section-description">Remplissez les informations ci-dessous pour générer votre CV professionnel</p>
                    </div>

                    <form id="cv-form" class="cv-form">
                        <!-- Photo Upload -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-camera"></i>
                                <h3>Photo Professionnelle</h3>
                            </div>
                            <div class="photo-upload-area">
                                <div class="photo-preview-container" id="photo-preview">
                                    <div class="photo-placeholder">
                                        <i class="fas fa-user-circle"></i>
                                    </div>
                                </div>
                                <div class="photo-controls">
                                    <button type="button" class="btn btn-outline" id="add-photo-btn">
                                        <i class="fas fa-plus"></i> Ajouter une photo
                                    </button>
                                    <button type="button" class="btn btn-text" id="remove-photo-btn">
                                        <i class="fas fa-trash"></i> Supprimer
                                    </button>
                                    <input type="file" id="photo-input" accept="image/*" class="hidden-input">
                                    <p class="photo-hint">Taille recommandée : 200×200px (max 2MB)</p>
                                </div>
                            </div>
                        </div>

                        <!-- Informations Personnelles -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-user"></i>
                                <h3>Informations Personnelles</h3>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="fullName">Nom complet *</label>
                                    <input type="text" id="fullName" required class="form-input" placeholder="Jean Dupont">
                                </div>
                                <div class="form-group">
                                    <label for="profession">Poste recherché *</label>
                                    <input type="text" id="profession" required class="form-input" placeholder="Développeur Full Stack">
                                </div>
                                <div class="form-group">
                                    <label for="email">Email professionnel *</label>
                                    <input type="email" id="email" required class="form-input" placeholder="jean.dupont@email.com">
                                </div>
                                <div class="form-group">
                                    <label for="phone">Téléphone</label>
                                    <input type="tel" id="phone" class="form-input" placeholder="+33 6 12 34 56 78">
                                </div>
                                <div class="form-group">
                                    <label for="location">Localisation</label>
                                    <input type="text" id="location" class="form-input" placeholder="Paris, France">
                                </div>
                                <div class="form-group full-width">
                                    <label for="summary">Profil professionnel</label>
                                    <textarea id="summary" rows="4" class="form-textarea" placeholder="Décrivez votre profil professionnel en quelques lignes..."></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Réseaux Professionnels -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-share-alt"></i>
                                <h3>Réseaux Professionnels</h3>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="linkedin">LinkedIn</label>
                                    <input type="url" id="linkedin" class="form-input" placeholder="https://linkedin.com/in/...">
                                </div>
                                <div class="form-group">
                                    <label for="github">GitHub</label>
                                    <input type="url" id="github" class="form-input" placeholder="https://github.com/...">
                                </div>
                                <div class="form-group">
                                    <label for="portfolio">Portfolio</label>
                                    <input type="url" id="portfolio" class="form-input" placeholder="https://votresite.com">
                                </div>
                            </div>
                        </div>

                        <!-- Expérience Professionnelle -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-briefcase"></i>
                                <h3>Expérience Professionnelle</h3>
                                <button type="button" class="btn btn-add" id="add-experience">
                                    <i class="fas fa-plus"></i> Ajouter
                                </button>
                            </div>
                            <div id="experience-container" class="dynamic-container"></div>
                        </div>

                        <!-- Formation -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-graduation-cap"></i>
                                <h3>Formation</h3>
                                <button type="button" class="btn btn-add" id="add-education">
                                    <i class="fas fa-plus"></i> Ajouter
                                </button>
                            </div>
                            <div id="education-container" class="dynamic-container"></div>
                        </div>

                        <!-- Compétences Techniques -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-code"></i>
                                <h3>Compétences Techniques</h3>
                            </div>
                            <div class="form-group">
                                <label for="skills">Liste vos compétences (séparées par des virgules)</label>
                                <input type="text" id="skills" class="form-input" placeholder="JavaScript, React, Node.js, Python...">
                                <p class="form-hint">Exemple: JavaScript, React, Node.js, Python, Git, Docker</p>
                            </div>
                        </div>

                        <!-- Langues -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-language"></i>
                                <h3>Langues</h3>
                                <button type="button" class="btn btn-add" id="add-language">
                                    <i class="fas fa-plus"></i> Ajouter
                                </button>
                            </div>
                            <div id="languages-container" class="dynamic-container"></div>
                        </div>

                        <!-- Centres d'Intérêt -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <i class="fas fa-heart"></i>
                                <h3>Centres d'Intérêt</h3>
                            </div>
                            <div class="form-group">
                                <label for="interests">Vos centres d'intérêt</label>
                                <input type="text" id="interests" class="form-input" placeholder="Voyages, Photographie, Sport, Lecture...">
                                <p class="form-hint">Séparez par des virgules</p>
                            </div>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Modèles Section -->
            <section id="templates-section" class="content-section">
                <div class="section-container">
                    <div class="section-header">
                        <h2><i class="fas fa-palette"></i>Choisissez Votre Style</h2>
                        <p class="section-description">Sélectionnez un modèle qui correspond à votre personnalité professionnelle</p>
                    </div>

                    <div class="templates-grid">
                        <!-- Template Moderne -->
                        <div class="template-card active" data-template="modern">
                            <div class="template-preview modern-preview">
                                <div class="preview-header">
                                    <div class="preview-name">Alexandre Martin</div>
                                    <div class="preview-title">Développeur Full Stack</div>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-line long"></div>
                                    <div class="preview-line medium"></div>
                                    <div class="preview-line short"></div>
                                </div>
                            </div>
                            <div class="template-info">
                                <h4>Moderne</h4>
                                <p>Design épuré et contemporain</p>
                                <div class="template-tags">
                                    <span class="tag">Minimaliste</span>
                                    <span class="tag">Élégant</span>
                                </div>
                            </div>
                            <div class="template-selected">
                                <i class="fas fa-check-circle"></i> Sélectionné
                            </div>
                        </div>

                        <!-- Template Professionnel -->
                        <div class="template-card" data-template="professional">
                            <div class="template-preview professional-preview">
                                <div class="preview-sidebar"></div>
                                <div class="preview-main">
                                    <div class="preview-line"></div>
                                    <div class="preview-line short"></div>
                                    <div class="preview-line medium"></div>
                                </div>
                            </div>
                            <div class="template-info">
                                <h4>Professionnel</h4>
                                <p>Style corporate élégant</p>
                                <div class="template-tags">
                                    <span class="tag">Corporate</span>
                                    <span class="tag">Structuré</span>
                                </div>
                            </div>
                        </div>

                        <!-- Template Créatif -->
                        <div class="template-card" data-template="creative">
                            <div class="template-preview creative-preview">
                                <div class="preview-accent"></div>
                                <div class="preview-content">
                                    <div class="preview-circle"></div>
                                    <div class="preview-circle small"></div>
                                    <div class="preview-line creative"></div>
                                </div>
                            </div>
                            <div class="template-info">
                                <h4>Créatif</h4>
                                <p>Design original et expressif</p>
                                <div class="template-tags">
                                    <span class="tag">Coloré</span>
                                    <span class="tag">Innovant</span>
                                </div>
                            </div>
                        </div>

                        <!-- Template Executive -->
                        <div class="template-card" data-template="executive">
                            <div class="template-preview executive-preview">
                                <div class="preview-header-executive">
                                    <div class="preview-line"></div>
                                    <div class="preview-line short"></div>
                                </div>
                                <div class="preview-columns">
                                    <div class="preview-column">
                                        <div class="preview-line"></div>
                                    </div>
                                    <div class="preview-column">
                                        <div class="preview-line medium"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="template-info">
                                <h4>Executive</h4>
                                <p>Luxe et sophistication</p>
                                <div class="template-tags">
                                    <span class="tag">Premium</span>
                                    <span class="tag">Élégant</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aperçu Section -->
            <section id="preview-section" class="content-section">
                <div class="section-container">
                    <div class="preview-header">
                        <div class="preview-title">
                            <h2><i class="fas fa-eye"></i>Aperçu en Direct</h2>
                            <p>Votre CV se met à jour automatiquement</p>
                        </div>
                        <div class="preview-controls">
                            <!-- Zoom -->
                            <div class="zoom-control">
                                <button class="btn-icon" id="zoom-out" title="Zoom -">
                                    <i class="fas fa-search-minus"></i>
                                </button>
                                <span class="zoom-value">100%</span>
                                <button class="btn-icon" id="zoom-in" title="Zoom +">
                                    <i class="fas fa-search-plus"></i>
                                </button>
                            </div>

                            <!-- Template actuel -->
                            <div class="current-template">
                                <span class="template-label">Modèle :</span>
                                <span class="template-name" id="current-template-name">Moderne</span>
                            </div>

                            <!-- Actions -->
                            <div class="preview-actions">
                                <button class="btn btn-secondary" id="print-btn">
                                    <i class="fas fa-print"></i> Imprimer
                                </button>
                                <button class="btn btn-primary" id="generate-pdf-btn">
                                    <i class="fas fa-file-pdf"></i> Générer PDF
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="preview-container">
                        <div class="preview-wrapper" id="preview-wrapper">
                            <div class="cv-preview" id="cv-preview">
                                <!-- CV sera généré ici -->
                                <div class="cv-placeholder">
                                    <i class="fas fa-file-alt"></i>
                                    <h3>CV Builder</h3>
                                    <p>Remplissez le formulaire pour voir votre CV s'afficher ici</p>
                                    <button class="btn btn-outline mt-2" onclick="app.loadExampleData()">
                                        <i class="fas fa-magic"></i> Charger un exemple
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Export Section -->
            <section id="export-section" class="content-section">
                <div class="section-container">
                    <div class="section-header">
                        <h2><i class="fas fa-file-export"></i>Exportez Votre CV</h2>
                        <p class="section-description">Téléchargez votre CV dans différents formats</p>
                    </div>

                    <div class="export-options">
                        <!-- PDF -->
                        <div class="export-card">
                            <div class="export-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="export-info">
                                <h3>PDF Haute Qualité</h3>
                                <p>Format idéal pour l'impression et l'envoi par email</p>
                                <div class="export-quality">
                                    <span class="quality-badge active">Haute qualité</span>
                                    <span class="quality-badge">Moyenne</span>
                                    <span class="quality-badge">Optimisé</span>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="export-pdf-btn">
                                <i class="fas fa-download"></i> Télécharger PDF
                            </button>
                        </div>

                        <!-- Image -->
                        <div class="export-card">
                            <div class="export-icon">
                                <i class="fas fa-image"></i>
                            </div>
                            <div class="export-info">
                                <h3>Image PNG</h3>
                                <p>Image haute résolution pour les réseaux sociaux</p>
                                <div class="export-settings">
                                    <label>Résolution :</label>
                                    <select id="image-quality">
                                        <option value="1">Standard (300 DPI)</option>
                                        <option value="2">Haute (600 DPI)</option>
                                        <option value="3">Maximum (1200 DPI)</option>
                                    </select>
                                </div>
                            </div>
                            <button class="btn btn-outline" id="export-image-btn">
                                <i class="fas fa-download"></i> Télécharger PNG
                            </button>
                        </div>

                        <!-- JSON -->
                        <div class="export-card">
                            <div class="export-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <div class="export-info">
                                <h3>Données JSON</h3>
                                <p>Sauvegardez vos données pour modifier plus tard</p>
                                <div class="export-actions">
                                    <button class="btn btn-text" id="export-json-btn">
                                        <i class="fas fa-download"></i> Exporter
                                    </button>
                                    <button class="btn btn-text" id="import-json-btn">
                                        <i class="fas fa-upload"></i> Importer
                                    </button>
                                </div>
                            </div>
                            <input type="file" id="json-import-input" accept=".json" class="hidden-input">
                        </div>

                        <!-- Partage -->
                        <div class="export-card">
                            <div class="export-icon">
                                <i class="fas fa-share-alt"></i>
                            </div>
                            <div class="export-info">
                                <h3>Partage rapide</h3>
                                <p>Partagez votre CV directement sur les plateformes</p>
                                <div class="share-buttons">
                                    <button class="btn-icon" title="LinkedIn">
                                        <i class="fab fa-linkedin"></i>
                                    </button>
                                    <button class="btn-icon" title="Email">
                                        <i class="fas fa-envelope"></i>
                                    </button>
                                    <button class="btn-icon" title="Copier le lien">
                                        <i class="fas fa-link"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Statistiques -->
                    <div class="stats-section">
                        <h3><i class="fas fa-chart-bar"></i> Statistiques</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="total-sections">0</div>
                                <div class="stat-label">Sections remplies</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="word-count">0</div>
                                <div class="stat-label">Mots</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="last-save">--</div>
                                <div class="stat-label">Dernière sauvegarde</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="file-size">0 KB</div>
                                <div class="stat-label">Taille estimée</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-container">
                <div class="footer-links">
                    <button class="btn btn-text" onclick="app.resetForm()">
                        <i class="fas fa-redo"></i> Réinitialiser
                    </button>
                    <button class="btn btn-text" onclick="app.saveCurrentCV()">
                        <i class="fas fa-save"></i> Sauvegarder
                    </button>
                    <button class="btn btn-text" onclick="app.showHelp()">
                        <i class="fas fa-question-circle"></i> Aide
                    </button>
                </div>
                <p class="footer-copyright">© 2025 CV Builder | Créateur de CV Professionnel</p>
            </div>
        </footer>

        <!-- Overlay de Chargement -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="loading-content">
                <div class="spinner">
                    <div class="spinner-ring"></div>
                    <div class="spinner-ring"></div>
                    <div class="spinner-ring"></div>
                </div>
                <p class="loading-text" id="loading-message">Chargement...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notification-container" class="notification-container"></div>

        <!-- Inputs cachés -->
        <input type="file" id="photo-input-file" accept="image/*" class="hidden-input">
        <input type="file" id="json-import-file" accept=".json" class="hidden-input">
    </div>

    <!-- Bibliothèques -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- Scripts Application -->
    <script src="scripts/database.js"></script>
    <script src="scripts/templateLoader.js"></script>
    <script src="scripts/pdfGenerator.js"></script>
    <script src="scripts/app.js"></script>
</body>
</html>